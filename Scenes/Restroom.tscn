[gd_scene load_steps=20 format=3 uid="uid://biqx11jkdycul"]

[ext_resource type="PackedScene" uid="uid://ddbpdjor6vt4" path="res://Prefabs/Player.tscn" id="1_d2k81"]
[ext_resource type="PackedScene" uid="uid://bkatl43sgnc2w" path="res://Prefabs/CharacterSpringbox.tscn" id="2_oyig2"]
[ext_resource type="PackedScene" uid="uid://bfqw6me51ohlw" path="res://Prefabs/CameraRig.tscn" id="3_bicq3"]
[ext_resource type="PackedScene" uid="uid://bjxelnsgamg04" path="res://Prefabs/UI/HUD.tscn" id="4_lvtrr"]
[ext_resource type="PackedScene" uid="uid://cbemgvwvf8mlh" path="res://System/GlobalEffectContainer.tscn" id="5_lkbqd"]
[ext_resource type="PackedScene" uid="uid://dpi8cv42dpkfs" path="res://System/BlackEnv.tscn" id="6_klplo"]
[ext_resource type="Texture2D" uid="uid://b3wjc7cdg4p6n" path="res://Textures/tile_reige2_textured_x64.png" id="7_dmset"]
[ext_resource type="Material" uid="uid://bchvx4m23vve5" path="res://Materials/material_restroomWall.tres" id="8_cot5w"]
[ext_resource type="Material" uid="uid://i5qlx14oouhm" path="res://Materials/material_pitchBlack.tres" id="8_hjins"]
[ext_resource type="PackedScene" uid="uid://dqwh8588q3hlk" path="res://Prefabs/Door.tscn" id="9_24lut"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0jpau"]
albedo_texture = ExtResource("7_dmset")
uv1_scale = Vector3(0.25, 0.5, 0.25)
uv1_triplanar = true
uv1_world_triplanar = true
texture_filter = 0

[sub_resource type="PlaneMesh" id="PlaneMesh_8sjv4"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_gbwdx"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_oaepy"]
resource_name = "Material"
cull_mode = 2
albedo_color = Color(0.8, 0.8, 0.8, 1)
roughness = 0.0764706

[sub_resource type="ArrayMesh" id="ArrayMesh_xkxjj"]
_surfaces = [{
"aabb": AABB(-0.150092, -1, -1, 0.450324, 2.00001, 2.00001),
"format": 34896613377,
"index_count": 30,
"index_data": PackedByteArray(0, 0, 2, 0, 1, 0, 3, 0, 4, 0, 0, 0, 5, 0, 7, 0, 6, 0, 0, 0, 1, 0, 8, 0, 9, 0, 4, 0, 6, 0, 6, 0, 4, 0, 3, 0, 0, 0, 10, 0, 2, 0, 2, 0, 10, 0, 11, 0, 0, 0, 4, 0, 10, 0, 5, 0, 6, 0, 3, 0),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 12,
"vertex_data": PackedByteArray(253, 255, 254, 255, 254, 255, 0, 0, 0, 0, 0, 0, 254, 255, 0, 0, 253, 255, 0, 0, 254, 255, 0, 0, 253, 255, 254, 255, 0, 0, 0, 0, 253, 255, 9, 195, 146, 63, 0, 0, 0, 0, 254, 255, 0, 0, 0, 0, 253, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 255, 254, 255, 0, 0, 253, 255, 0, 0, 146, 63, 0, 0, 253, 255, 9, 195, 107, 192, 0, 0, 253, 255, 0, 0, 107, 192, 0, 0)
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_xrxlc"]
resource_name = "Cube"
_surfaces = [{
"aabb": AABB(-0.150092, -1, -1, 0.450324, 2.00001, 2.00001),
"attribute_data": PackedByteArray(255, 159, 255, 63, 255, 95, 255, 31, 255, 95, 255, 63, 255, 159, 255, 127, 255, 159, 255, 63, 193, 144, 26, 112, 255, 159, 255, 159, 255, 95, 255, 127, 255, 95, 255, 159, 255, 159, 255, 31, 255, 95, 26, 112, 255, 95, 255, 127, 255, 95, 255, 63, 193, 144, 228, 79, 255, 95, 228, 79, 255, 159, 255, 127),
"format": 34896613399,
"index_count": 30,
"index_data": PackedByteArray(0, 0, 2, 0, 1, 0, 3, 0, 5, 0, 4, 0, 6, 0, 8, 0, 7, 0, 0, 0, 1, 0, 9, 0, 10, 0, 5, 0, 11, 0, 11, 0, 5, 0, 3, 0, 4, 0, 13, 0, 12, 0, 12, 0, 13, 0, 14, 0, 4, 0, 5, 0, 13, 0, 6, 0, 7, 0, 15, 0),
"material": SubResource("StandardMaterial3D_oaepy"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 16,
"vertex_data": PackedByteArray(253, 255, 254, 255, 254, 255, 255, 191, 0, 0, 0, 0, 254, 255, 255, 191, 253, 255, 0, 0, 254, 255, 255, 191, 253, 255, 254, 255, 0, 0, 84, 213, 253, 255, 254, 255, 254, 255, 84, 213, 253, 255, 9, 195, 146, 63, 84, 213, 0, 0, 254, 255, 0, 0, 255, 255, 253, 255, 0, 0, 0, 0, 255, 255, 0, 0, 0, 0, 0, 0, 255, 255, 0, 0, 254, 255, 254, 255, 255, 191, 253, 255, 0, 0, 146, 63, 84, 213, 253, 255, 0, 0, 0, 0, 84, 213, 253, 255, 0, 0, 254, 255, 84, 213, 253, 255, 9, 195, 107, 192, 84, 213, 253, 255, 0, 0, 107, 192, 84, 213, 253, 255, 254, 255, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 170, 42, 170, 42, 170, 42, 170, 42, 170, 42, 170, 42, 255, 191, 255, 191, 255, 191, 255, 191, 255, 191, 255, 191, 255, 255, 255, 255, 170, 42, 170, 42, 170, 42, 170, 42, 170, 42, 170, 42, 170, 42, 170, 42, 170, 42, 170, 42, 255, 191, 255, 191)
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_xkxjj")

[sub_resource type="QuadMesh" id="QuadMesh_lvy8n"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_vhfws"]
data = PackedVector3Array(0.5, -0.5, 0, -0.5, -0.5, 0, 0.5, 0.5, 0, -0.5, -0.5, 0, -0.5, 0.5, 0, 0.5, 0.5, 0)

[sub_resource type="QuadMesh" id="QuadMesh_a1c6s"]

[node name="Restroom" type="Node3D" groups=["World"]]

[node name="Player" parent="." instance=ExtResource("1_d2k81")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.83384, 0)

[node name="CharacterSpringbox" parent="." instance=ExtResource("2_oyig2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.83384, 0)

[node name="CameraRig" parent="." instance=ExtResource("3_bicq3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.83384, 0)

[node name="HUD" parent="." instance=ExtResource("4_lvtrr")]

[node name="GlobalEffectContainer" parent="." instance=ExtResource("5_lkbqd")]

[node name="SetPieces" type="Node3D" parent="."]

[node name="Ground" type="MeshInstance3D" parent="SetPieces"]
transform = Transform3D(7.496, 0, 0, 0, 0.999, 0, 0, 0, 11.925, 0, 0, 0)
material_override = SubResource("StandardMaterial3D_0jpau")
mesh = SubResource("PlaneMesh_8sjv4")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="SetPieces/Ground"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="SetPieces/Ground/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_gbwdx")

[node name="DorrwayCutout" type="MeshInstance3D" parent="SetPieces"]
transform = Transform3D(-9.20125e-08, 0, 1.975, 0, 1.975, 0, -2.105, 0, -8.633e-08, 3.028, 1.937, 11.633)
material_override = ExtResource("8_cot5w")
mesh = SubResource("ArrayMesh_xrxlc")
skeleton = NodePath("")

[node name="Wall" type="MeshInstance3D" parent="SetPieces"]
transform = Transform3D(-14.994, 0, -1.50996e-07, 0, 3.899, 0, 2.26403e-06, 0, -1, 0, 1.94, 11.919)
material_override = ExtResource("8_cot5w")
mesh = SubResource("QuadMesh_lvy8n")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="SetPieces/Wall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="SetPieces/Wall/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_vhfws")

[node name="Wall2" type="MeshInstance3D" parent="SetPieces"]
transform = Transform3D(-1.03919e-06, 0, 1, 0, 3.894, 0, -23.774, 0, -4.37114e-08, -7.461, 1.94, 0.047)
material_override = ExtResource("8_cot5w")
mesh = SubResource("QuadMesh_lvy8n")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="SetPieces/Wall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="SetPieces/Wall2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_vhfws")

[node name="Wall3" type="MeshInstance3D" parent="SetPieces"]
transform = Transform3D(-1.03919e-06, 0, -1, 0, 3.894, 0, 23.774, 0, -4.37114e-08, 7.486, 1.975, 0.047)
material_override = ExtResource("8_cot5w")
mesh = SubResource("QuadMesh_lvy8n")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="SetPieces/Wall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="SetPieces/Wall3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_vhfws")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SetPieces"]
transform = Transform3D(-2.34, 0, -1.50996e-07, 0, 3.12, 0, 3.5333e-07, 0, -1, 3.093, 1.576, 11.005)
material_override = ExtResource("8_hjins")
mesh = SubResource("QuadMesh_a1c6s")

[node name="Destructables" type="Node3D" parent="."]

[node name="Events" type="Node3D" parent="."]

[node name="Challenges" type="Node3D" parent="."]

[node name="BlankEnv" parent="." instance=ExtResource("6_klplo")]

[node name="Door" parent="." instance=ExtResource("9_24lut")]
transform = Transform3D(-1.5, 0, -2.26494e-07, 0, 1.5, 0, 2.26494e-07, 0, -1.5, 3.06876, 0.673294, 8.53276)
targetRoom = "res://Scenes/Lobby.tscn"
